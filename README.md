Redis Hash to Object Mapper
============================

This is a mixin that maps Redis hashes into user-defined objects and vice versa. Its intention is to provide a simple way to perform CRUD on Redis hashes with minimal interference; Redis is great, so details shouldn't be abstracted away to the point that direct client access is hacky.

Example
--------

Adding rhom functionality to a class:

```javascript
var rhom = require('rhom');
var client = require('redis').createClient();

function MyUserModel() {} // Define however you want.
rhom(MyUserModel, ['id', 'name', 'email'], client);

/* Create */
var user1 = new MyUserModel();
user1.name = "John Smith";
user1.email = "jsmith@gmail.com";
user1.save(function(err, res) {
	if (res) console.log("Saved");
}); // Saves a hash at key MyUserModel:id

/* Retrieve based on the autogenerated id from user1 */
var copy1;
MyUserModel.get(user1.id, function(err, res) {
	if (res) copy1 = res;
});

/* Update */
copy1.email = "jsmith@yahoo.com";
copy1.save(function(err, res) {
	if (res) console.log("Saved");
});

/* Delete */
copy1.delete(function(err, res) {
	if (res) console.log("Deleted");
});
// Hash underlying user1 is also gone, because they're the same.
``` 

Adding local caching to the above:
```javascript
// Where previously we used this line:
rhom(MyUserModel, ['id', 'name', 'email'], client);

// Simply add this line:
rhom.cache(MyUserModel, 60); // 60 second cache, or leave out for infinite cache.
```

Caveats
-------

Classes must be defined using a named function definition, not an anonymous function assigned to a variable. The named function makes the .name property available, on which some functions rely.

```javascript
// Do this:
function MyClass() { /* ... */ }
MyClass.prototype = { /* ... */ }

// Not this:
var MyClass = function() { /* ... */ }
MyClass.prototype = { /* ... */ }
```